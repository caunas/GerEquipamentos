<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane prefHeight="787.0" prefWidth="1027.0"
            style="-fx-background-color: #f8f9fa; -fx-font-family: 'Segoe UI'; -fx-font-size: 14px;"
            xmlns="http://javafx.com/javafx/17.0.12"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="ui.GUI.EquipamentoControl">

    <!-- Topo - Cabeçalho -->
    <top>
        <VBox style="-fx-background-color: #343a40; -fx-padding: 15;">
            <Label style="-fx-text-fill: white; -fx-font-size: 20px; -fx-font-weight: bold;"
                   text="Sistema de Gestão de Equipamentos" />
        </VBox>
    </top>

    <!-- Centro -->
    <center>
        <VBox spacing="20" style="-fx-padding: 20;">
            <!-- Abas -->
            <TabPane tabClosingPolicy="UNAVAILABLE">
                <tabs>
                    <!-- Aba Cadastro -->
                    <Tab text="Cadastro">
                        <content>
                            <AnchorPane>
                                <children>
                                    <Label layoutX="381.0" layoutY="14.0"
                                           style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #495057;"
                                           text="Cadastro de Equipamentos" />

                                    <GridPane layoutX="93.0" layoutY="43.0" hgap="15" vgap="15"
                                              alignment="TOP_CENTER" prefWidth="803.0" prefHeight="242.0">
                                        <padding><Insets top="10" right="20" bottom="20" left="20"/></padding>

                                        <Label text="Nome:" style="-fx-font-weight: bold;" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
                                        <TextField fx:id="nomeField" promptText="Digite o nome do equipamento"
                                                   style="-fx-background-radius: 4; -fx-border-color: #ced4da;" GridPane.columnIndex="1" GridPane.rowIndex="1"/>

                                        <Label text="Categoria:" style="-fx-font-weight: bold;" GridPane.columnIndex="0" GridPane.rowIndex="2"/>
                                        <ChoiceBox fx:id="categoriaSelector" GridPane.columnIndex="1" GridPane.rowIndex="2"/>

                                        <Label text="Detalhes:" style="-fx-font-weight: bold;" GridPane.columnIndex="0" GridPane.rowIndex="3"/>
                                        <TextField fx:id="detalhesField" promptText="Digite os detalhes do equipamento"
                                                   style="-fx-background-radius: 4; -fx-border-color: #ced4da;" GridPane.columnIndex="1" GridPane.rowIndex="3"/>

                                        <HBox spacing="15" alignment="CENTER" GridPane.columnSpan="2" GridPane.rowIndex="4">
                                            <Button text="Adicionar" onAction="#adicionarEquipamento"
                                                    style="-fx-background-color: #28a745; -fx-text-fill: white; -fx-font-weight: bold;"/>
                                            <Button text="Limpar" onAction="#limparCampos"
                                                    style="-fx-background-color: #6c757d; -fx-text-fill: white; -fx-font-weight: bold;"/>
                                        </HBox>
                                    </GridPane>
                                </children>
                            </AnchorPane>
                        </content>
                    </Tab>

                    <!-- Aba Consulta -->
                    <Tab text="Consulta e Busca">
                        <content>
                            <AnchorPane>
                                <children>
                                    <Label layoutX="397.0" layoutY="14.0" text="Busca de Equipamento"
                                           style="-fx-font-size: 18px; -fx-font-weight: bold;" />
                                    <GridPane layoutX="92.0" layoutY="54.0" hgap="15" vgap="15">
                                        <Label text="ID:" style="-fx-font-weight: bold;" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
                                        <TextField fx:id="buscaField" promptText="ID"
                                                   style="-fx-background-radius: 4; -fx-border-color: #ced4da;" GridPane.columnIndex="1" GridPane.rowIndex="1"/>
                                        
                                        <Label text="Categoria:" style="-fx-font-weight: bold;" GridPane.columnIndex="0" GridPane.rowIndex="3"/>
                                        <ChoiceBox fx:id="categoriaSelectorBusca" GridPane.columnIndex="1" GridPane.rowIndex="3"/>

                                        <Button text="Buscar por ID" onAction="#buscaPorId"
                                                style="-fx-background-color: #f39c12; -fx-text-fill: white;" GridPane.columnIndex="2" GridPane.rowIndex="1"/>
                                        <Button text="Buscar por categoria" onAction="#buscaPorCategoria"
                                                style="-fx-background-color: #f39c12; -fx-text-fill: white;" GridPane.columnIndex="2" GridPane.rowIndex="3"/>
                                    </GridPane>
                                    <Button layoutX="406.0" layoutY="189.0" onAction="#atualizarTabela"
                                            style="-fx-background-color: #3498db; -fx-text-fill: white;"
                                            text="Ver todos os itens"/>
                                </children>
                            </AnchorPane>
                        </content>
                    </Tab>

                    <!-- Aba Gerenciamento -->
                    <Tab text="Gerenciamento">
                        <content>
                            <AnchorPane>
                                <children>
                                    <Label layoutX="397.0" layoutY="14.0" text="Gerenciar Equipamento"
                                           style="-fx-font-size: 18px; -fx-font-weight: bold;" />
                                    <GridPane layoutX="92.0" layoutY="54.0" hgap="15" vgap="15">
                                        <Label text="ID:" style="-fx-font-weight: bold;" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
                                        <TextField fx:id="idGerenciarField" promptText="ID"
                                                   style="-fx-background-radius: 4; -fx-border-color: #ced4da;" GridPane.columnIndex="1" GridPane.rowIndex="1"/>
                                        <Button text="Remover por ID" onAction="#removerEquipamento"
                                                style="-fx-background-color: #e74c3c; -fx-text-fill: white;" GridPane.columnIndex="1" GridPane.rowIndex="3"/>
                                        <Button text="Atualizar por ID" onAction="#atualizarEquipamento"
                                                style="-fx-background-color: #a55eea; -fx-text-fill: white;" GridPane.columnIndex="2" GridPane.rowIndex="3"/>
                                    </GridPane>
                                    <Button layoutX="406.0" layoutY="189.0" onAction="#atualizarTabela"
                                            style="-fx-background-color: #3498db; -fx-text-fill: white;" text="Ver todos os itens"/>
                                </children>
                            </AnchorPane>
                        </content>
                    </Tab>

                    <!-- Aba Configurações -->
                    <Tab text="Configurações"/>
                </tabs>
            </TabPane>

            <!-- Tabela -->
            <VBox spacing="10">
                <HBox spacing="10" alignment="CENTER_LEFT">
                    <Label text="Lista de Equipamentos Cadastrados"
                           style="-fx-font-size: 16px; -fx-font-weight: bold;" />
                    <Label fx:id="totalLabel" text="0 equipamentos" style="-fx-font-weight: bold; -fx-text-fill: #17a2b8;" />
                </HBox>
                <TableView fx:id="tabela" style="-fx-pref-height: 300;">
                    <columns>
                        <TableColumn fx:id="colId" text="ID"/>
                        <TableColumn fx:id="colNome" text="Nome"/>
                        <TableColumn fx:id="colCategoria" text="Categoria"/>
                        <TableColumn fx:id="colData" text="Data de Cadastro"/>
                        <TableColumn fx:id="colDetalhes" text="Detalhes"/>
                    </columns>
                </TableView>
            </VBox>
        </VBox>
    </center>
</BorderPane>